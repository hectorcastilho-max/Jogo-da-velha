<!doctype html>
<html lang="pt-BR">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Jogo da Velha ‚Äî Menu & Jogo</title>
<style>
  :root{
    --bg1:#7c3aed; /* roxo */
    --bg2:#fb7185; /* rosa */
    --bg3:#60a5fa; /* azul claro */
    --card: rgba(255,255,255,0.03);
    --accent1: #7c3aed;
    --accent2: #06b6d4;
    --text:#f4f8ff;
    --muted: rgba(244,248,255,0.7);
    --board-size:360px;
    --glass: rgba(255,255,255,0.04);
  }
  *{box-sizing:border-box;font-family:Inter,ui-sans-serif,system-ui,-apple-system,"Segoe UI",Roboto,"Helvetica Neue",Arial;}
  html,body{height:100%;margin:0;background:linear-gradient(135deg,var(--bg1),var(--bg2) 45%, var(--bg3));color:var(--text);overflow:hidden;}
  /* animated gradient shift */
  body::after{
    content:"";position:fixed;inset:0;z-index:0;background:linear-gradient(60deg, rgba(255,255,255,0.02), transparent 20%);mix-blend-mode:overlay;pointer-events:none;
    animation: bgshift 18s linear infinite;
  }
  @keyframes bgshift{0%{transform:rotate(0deg)}50%{transform:rotate(3deg)}100%{transform:rotate(0deg)}}

  .container{position:relative;z-index:2;min-height:100vh;display:flex;align-items:center;justify-content:center;padding:28px;}
  .card{
    width:calc(var(--board-size) + 260px);
    max-width:95vw;background:rgba(255,255,255,0.03);border-radius:16px;padding:18px;box-shadow:0 10px 40px rgba(2,6,23,0.5);
    display:grid;grid-template-columns:1fr 1fr;gap:18px;align-items:start;backdrop-filter: blur(6px);
  }

  /* MENU area (separate visual screen) */
  .menu{
    display:flex;flex-direction:column;gap:12px;padding:12px;
  }
  .menu h1{margin:0;font-size:22px}
  .menu .desc{color:var(--muted);font-size:13px}
  .choice-row{display:flex;gap:10px;flex-wrap:wrap;margin-top:6px}
  .choice{
    padding:10px 14px;border-radius:12px;background:var(--glass);border:2px solid transparent;cursor:pointer;font-weight:700;
    transition:transform .15s, box-shadow .15s;
  }
  .choice:hover{transform:translateY(-4px)}
  .choice.active{border-color:rgba(255,255,255,0.06);box-shadow:0 12px 30px rgba(2,6,23,0.35)}
  .start-btn{margin-top:12px;padding:12px;border-radius:12px;border:none;background:linear-gradient(90deg,var(--accent1),var(--accent2));color:white;font-weight:800;cursor:pointer;font-size:15px}

  /* board area */
  .board-wrap{display:flex;flex-direction:column;align-items:center;gap:12px;padding:14px;}
  .board {
    width:var(--board-size);height:var(--board-size);
    transform:scale(1.25); /* 25% maior */
    max-width:70vw;max-height:70vw;
    display:grid;grid-template-columns:repeat(3,1fr);grid-template-rows:repeat(3,1fr);gap:8px;
    background:linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.008));
    padding:8px;border-radius:14px;
    box-shadow: 0 12px 36px rgba(2,6,23,0.5), inset 0 1px 0 rgba(255,255,255,0.02);
  }
  .cell{
    background:linear-gradient(180deg, rgba(255,255,255,0.01), rgba(0,0,0,0.06));
    border-radius:10px;display:flex;align-items:center;justify-content:center;font-size:48px;font-weight:800;color:var(--text);
    cursor:pointer;user-select:none;transition:transform .12s, box-shadow .12s;
    box-shadow: 0 8px 24px rgba(2,6,23,0.38);
  }
  .cell:hover{transform:translateY(-6px) scale(1.03)}
  .cell.disabled{cursor:default;opacity:0.85}
  .placed{animation:pop .14s ease;}
  @keyframes pop{0%{transform:scale(.6)}100%{transform:scale(1)}}

  .controls{padding:12px;border-radius:12px;background:linear-gradient(180deg, rgba(255,255,255,0.02), rgba(0,0,0,0.02));min-height: calc(var(--board-size) - 40px);display:flex;flex-direction:column;gap:10px;}
  .subtitle{color:var(--muted);font-size:13px}
  .status{font-size:16px;font-weight:700}
  .substatus{font-size:13px;color:var(--muted)}

  /* small restart button inside game screen */
  .in-game-actions{display:flex;gap:8px;align-items:center;margin-top:auto}
  .btn-small{
    padding:8px 10px;border-radius:10px;border:1px solid rgba(255,255,255,0.06);background:transparent;color:var(--text);cursor:pointer;font-weight:700;font-size:13px;
  }
  .btn-small.ghost{background:transparent}
  .btn-small.primary{background:linear-gradient(90deg,var(--accent1),var(--accent2));border:none;color:white;box-shadow:0 8px 22px rgba(6,182,212,0.06)}

  .score{font-size:13px;color:var(--muted);margin-top:4px}

  /* line for winner */
  .line{position:absolute;pointer-events:none;background:linear-gradient(90deg, rgba(255,255,255,0.12), rgba(255,255,255,0.06));height:6px;border-radius:6px;z-index:50;transform-origin:center;opacity:0;transition:opacity .12s}

  /* confetti */
  .confetti-piece{position:fixed;z-index:9999;pointer-events:none;will-change:transform,opacity;width:10px;height:14px;border-radius:2px;opacity:0.95;transform-origin:center;animation: confetti-fall linear forwards;}
  @keyframes confetti-fall{0%{transform:translateY(-10vh) rotate(0deg);opacity:1}100%{transform:translateY(110vh) rotate(720deg);opacity:0}}

  footer{grid-column:1/-1;text-align:center;color:var(--muted);font-size:12px;padding-top:6px}

  /* small-screen adaptability */
  @media (max-width:900px){
    .card{grid-template-columns:1fr;width:92vw}
    .board{transform:scale(1.05)}
  }

  /* accessibility focus */
  .choice:focus, .start-btn:focus, .btn-small:focus, .cell:focus{outline:3px solid rgba(255,255,255,0.06);outline-offset:4px}
</style>
</head>
<body>
<div class="container">
  <div class="card" role="application" aria-label="Jogo da Velha">
    <!-- LEFT: menu / controls -->
    <div class="controls" id="leftPanel">
      <!-- Menu screen -->
      <div id="menuScreen" class="menu" aria-hidden="false">
        <div>
          <h1>Jogo da Velha</h1>
          <div class="subtitle">Escolha modo, s√≠mbolo e (se vs m√°quina) a dificuldade. M√∫sica come√ßa ao iniciar.</div>
        </div>

        <div style="margin-top:8px"><strong>Modo de Jogo</strong></div>
        <div class="choice-row" id="modeRow">
          <button class="choice active" data-mode="pvc" aria-pressed="true">ü§ñ Contra a M√°quina</button>
          <button class="choice" data-mode="pvp" aria-pressed="false">üßë‚Äçü§ù‚Äçüßë 2 Jogadores</button>
        </div>

        <div style="margin-top:12px"><strong>Seu S√≠mbolo</strong></div>
        <div class="choice-row" id="symRow">
          <button class="choice active" data-sym="X" aria-pressed="true">X</button>
          <button class="choice" data-sym="O" aria-pressed="false">O</button>
        </div>

        <div id="difficultyBlock" style="margin-top:12px">
          <div><strong>Dificuldade</strong></div>
          <div class="choice-row" id="diffRow">
            <button class="choice active" data-diff="easy">F√°cil</button>
            <button class="choice" data-diff="medium">M√©dio</button>
            <button class="choice" data-diff="hard">Dif√≠cil</button>
          </div>
        </div>

        <div style="margin-top:12px">
          <button class="start-btn" id="startBtn">Come√ßar Jogo</button>
        </div>

        <div style="margin-top:8px;color:var(--muted);font-size:13px">
          Dica: X sempre come√ßa. Se voc√™ escolher O contra a m√°quina, a m√°quina (X) iniciar√°.
        </div>
      </div>

      <!-- Game screen controls (hidden initially) -->
      <div id="gameScreen" class="menu" style="display:none;" aria-hidden="true">
        <div>
          <h1 id="gameTitle">Jogo</h1>
          <div class="subtitle" id="subtitleGame">Divirta-se!</div>
        </div>

        <div style="margin-top:8px">
          <div class="status" id="statusText">Pronto</div>
          <div class="substatus" id="subStatus">Boa sorte!</div>
          <div class="score" id="scoreLabel">Voc√™ 0 ‚Ä¢ M√°quina 0 ‚Ä¢ Empates 0</div>
        </div>

        <div class="in-game-actions">
          <button id="backBtn" class="btn-small ghost" title="Voltar ao menu">‚Üê Menu</button>
          <button id="restartBtn" class="btn-small" title="Reiniciar partida">Reiniciar</button>
          <button id="muteBtn" class="btn-small" title="Mudo/Unmute">M√∫sica: On</button>
        </div>

        <footer style="margin-top:auto">Feito com ‚ù§ ‚Äî Aproveite!</footer>
      </div>
    </div>

    <!-- RIGHT: board -->
    <div class="board-wrap">
      <div style="position:relative;">
        <div class="board" id="board" aria-label="Tabuleiro do jogo">
          <div class="cell" data-index="0" tabindex="0" role="button" aria-pressed="false"></div>
          <div class="cell" data-index="1" tabindex="0" role="button" aria-pressed="false"></div>
          <div class="cell" data-index="2" tabindex="0" role="button" aria-pressed="false"></div>
          <div class="cell" data-index="3" tabindex="0" role="button" aria-pressed="false"></div>
          <div class="cell" data-index="4" tabindex="0" role="button" aria-pressed="false"></div>
          <div class="cell" data-index="5" tabindex="0" role="button" aria-pressed="false"></div>
          <div class="cell" data-index="6" tabindex="0" role="button" aria-pressed="false"></div>
          <div class="cell" data-index="7" tabindex="0" role="button" aria-pressed="false"></div>
          <div class="cell" data-index="8" tabindex="0" role="button" aria-pressed="false"></div>
        </div>
        <div id="line" class="line" style="opacity:0;"></div>
      </div>

      <div style="width:100%;display:flex;flex-direction:column;align-items:center;gap:6px;">
        <div class="substatus" id="turnLabel">Vez: ‚Äî</div>
        <div style="font-size:13px;color:var(--muted);text-align:center;padding:6px;" id="hintNote">Informa√ß√µes do jogo aparecer√£o √† esquerda.</div>
      </div>
    </div>
  </div>
</div>

<!-- audio (instrumental exemplo p√∫blico) -->
<audio id="bgAudio" loop crossorigin="anonymous">
  <source src="https://www.soundhelix.com/examples/mp3/SoundHelix-Song-1.mp3" type="audio/mpeg">
  Seu navegador n√£o suporta √°udio.
</audio>

<script>
/* ===========
   Game script
   =========== */

const modeRow = document.getElementById('modeRow');
const diffRow = document.getElementById('diffRow');
const symRow = document.getElementById('symRow');
const difficultyBlock = document.getElementById('difficultyBlock');
const startBtn = document.getElementById('startBtn');
const menuScreen = document.getElementById('menuScreen');
const gameScreen = document.getElementById('gameScreen');
const boardEl = document.getElementById('board');
const cells = Array.from(document.querySelectorAll('.cell'));
const statusText = document.getElementById('statusText');
const subStatus = document.getElementById('subStatus');
const scoreLabel = document.getElementById('scoreLabel');
const turnLabel = document.getElementById('turnLabel');
const backBtn = document.getElementById('backBtn');
const restartBtn = document.getElementById('restartBtn');
const muteBtn = document.getElementById('muteBtn');
const bgAudio = document.getElementById('bgAudio');
const lineEl = document.getElementById('line');
const hintNote = document.getElementById('hintNote');

let mode = 'pvc'; // pvc = player vs computer, pvp = two players
let difficulty = 'easy';
let playerSym = 'X';
let aiSym = 'O';
let board = Array(9).fill(null);
let currentTurn = 'X'; // X starts always
let running = false;
let scores = {player:0, ai:0, ties:0, p1:0, p2:0};
let aiEnabled = true;
let audioOn = true;

/* UI interactions for menu */
modeRow.addEventListener('click', (e)=>{
  const btn = e.target.closest('button'); if(!btn) return;
  modeRow.querySelectorAll('button').forEach(b=>b.classList.remove('active'));
  btn.classList.add('active');
  mode = btn.dataset.mode;
  // show/hide difficulty depending on mode
  if(mode === 'pvc') difficultyBlock.style.display = 'block';
  else difficultyBlock.style.display = 'none';
});
diffRow.addEventListener('click', (e)=>{
  const btn = e.target.closest('button'); if(!btn) return;
  diffRow.querySelectorAll('button').forEach(b=>b.classList.remove('active'));
  btn.classList.add('active');
  difficulty = btn.dataset.diff;
});
symRow.addEventListener('click', (e)=>{
  const btn = e.target.closest('button'); if(!btn) return;
  symRow.querySelectorAll('button').forEach(b=>b.classList.remove('active'));
  btn.classList.add('active');
  playerSym = btn.dataset.sym;
});

/* Start game: switch to game screen */
startBtn.addEventListener('click', ()=>{
  // start audio on user gesture
  try{ bgAudio.currentTime = 0; if(audioOn) bgAudio.play().catch(()=>{}); } catch(e){}
  // prepare variables
  aiEnabled = (mode === 'pvc');
  aiSym = (playerSym === 'X') ? 'O' : 'X';
  // switch visual screens
  menuScreen.style.display = 'none';
  gameScreen.style.display = 'block';
  menuScreen.setAttribute('aria-hidden','true');
  gameScreen.setAttribute('aria-hidden','false');
  // update labels & reset board
  document.getElementById('gameTitle').textContent = (mode==='pvc') ? 'Voc√™ vs M√°quina' : '2 Jogadores (local)';
  document.getElementById('subtitleGame').textContent = (aiEnabled) ? `Dificuldade: ${capitalize(difficulty)}` : 'Modo local ‚Äî os jogadores se revezam';
  resetBoard();
  // If player chose O and AI is enabled, machine (X) starts
  if(aiEnabled && playerSym === 'O'){
    setTimeout(aiPlay, 420);
  }
});

/* Back to menu: stops audio and show menu */
backBtn.addEventListener('click', ()=>{
  // stop audio gently
  try{ bgAudio.pause(); bgAudio.currentTime = 0; } catch(e){}
  menuScreen.style.display = 'block';
  gameScreen.style.display = 'none';
  menuScreen.setAttribute('aria-hidden','false');
  gameScreen.setAttribute('aria-hidden','true');
  running = false;
  lineEl.style.opacity = 0;
});

/* Restart only inside game screen */
restartBtn.addEventListener('click', ()=>{
  resetBoard();
  if(aiEnabled && playerSym === 'O'){ setTimeout(aiPlay,420); }
});

/* Mute toggle */
muteBtn.addEventListener('click', ()=>{
  audioOn = !audioOn;
  if(audioOn){ try{ bgAudio.play().catch(()=>{}); } catch(e){}; muteBtn.textContent = 'M√∫sica: On'; }
  else { try{ bgAudio.pause(); } catch(e){}; muteBtn.textContent = 'M√∫sica: Off'; }
});

/* Board clicks */
cells.forEach(cell=>{
  cell.addEventListener('click', ()=>{
    if(!running) return;
    const idx = Number(cell.dataset.index);
    if(board[idx] !== null) return;
    // PvP: alternate players; PvC: only allow human move on player's symbol
    if(!aiEnabled){
      makeMove(idx, currentTurn); // local players alternate by currentTurn
    } else {
      if(currentTurn !== playerSym) return; // only human when it's their turn
      makeMove(idx, playerSym);
    }
  });
  // keyboard support: Enter or Space to play
  cell.addEventListener('keydown', (e)=>{
    if(e.key === 'Enter' || e.key === ' ') { e.preventDefault(); cell.click(); }
  });
});

/* Reset board */
function resetBoard(){
  board = Array(9).fill(null);
  currentTurn = 'X';
  running = true;
  cells.forEach(c=>{ c.textContent=''; c.classList.remove('disabled','placed'); c.setAttribute('aria-pressed','false'); });
  lineEl.style.opacity = 0;
  updateStatus();
}

/* Make move */
function makeMove(idx, symbol){
  if(board[idx] !== null) return;
  board[idx] = symbol;
  const cel = cells[idx];
  cel.textContent = symbol;
  cel.classList.add('placed');
  cel.setAttribute('aria-pressed','true');
  const winnerInfo = checkWinner(board);
  if(winnerInfo){
    running = false;
    if(winnerInfo.winner){
      announceWin(winnerInfo);
    } else {
      announceTie();
    }
    return;
  }
  // switch turn
  currentTurn = (symbol === 'X') ? 'O' : 'X';
  updateStatus();
  if(running && aiEnabled && currentTurn === aiSym){
    setTimeout(aiPlay, 420);
  }
}

/* AI move logic */
function aiPlay(){
  if(!running) return;
  let idx = null;
  if(difficulty === 'easy') idx = getRandomMove();
  else if(difficulty === 'medium') idx = getMediumMove();
  else idx = getBestMoveMinimax(board.slice(), aiSym).idx;
  if(idx == null) idx = getRandomMove();
  makeMove(idx, aiSym);
}

/* random move */
function getRandomMove(){
  const avail = board.map((v,i)=>v===null?i:null).filter(v=>v!==null);
  if(avail.length===0) return null;
  return avail[Math.floor(Math.random()*avail.length)];
}

/* medium move: try win, block, center, corner */
function getMediumMove(){
  for(let i=0;i<9;i++){
    if(board[i]===null){
      const c = board.slice(); c[i]=aiSym;
      if(checkWinner(c)?.winner === aiSym) return i;
    }
  }
  for(let i=0;i<9;i++){
    if(board[i]===null){
      const c = board.slice(); c[i]=playerSym;
      if(checkWinner(c)?.winner === playerSym) return i;
    }
  }
  if(board[4]===null) return 4;
  const corners = [0,2,6,8].filter(i=>board[i]===null);
  if(corners.length) return corners[Math.floor(Math.random()*corners.length)];
  return getRandomMove();
}

/* Minimax (hard) */
function getBestMoveMinimax(newBoard, maximizingSymbol){
  const winnerInfo = checkWinner(newBoard);
  if(winnerInfo){
    if(winnerInfo.winner === aiSym) return {idx:null, score:10};
    if(winnerInfo.winner === playerSym) return {idx:null, score:-10};
    if(winnerInfo.winner === null) return {idx:null, score:0};
  }
  const avail = newBoard.map((v,i)=>v===null?i:null).filter(v=>v!==null);
  if(avail.length === 0) return {idx:null, score:0};

  function recurse(bd, maximizing){
    const chk = checkWinner(bd);
    if(chk){
      if(chk.winner === aiSym) return {score:10};
      if(chk.winner === playerSym) return {score:-10};
      return {score:0};
    }
    const moves = bd.map((v,i)=>v===null?i:null).filter(v=>v!==null);
    let best = maximizing ? {score:-Infinity} : {score:Infinity};
    for(const m of moves){
      bd[m] = maximizing ? aiSym : playerSym;
      const res = recurse(bd, !maximizing);
      bd[m] = null;
      const sc = res.score;
      if(maximizing){
        if(sc > best.score) best = {idx:m, score:sc};
      } else {
        if(sc < best.score) best = {idx:m, score:sc};
      }
    }
    return best;
  }
  return recurse(newBoard.slice(), true);
}

/* Check winner */
function checkWinner(bd){
  const lines = [
    [0,1,2],[3,4,5],[6,7,8],
    [0,3,6],[1,4,7],[2,5,8],
    [0,4,8],[2,4,6]
  ];
  for(const L of lines){
    const [a,b,c] = L;
    if(bd[a] && bd[a] === bd[b] && bd[a] === bd[c]) return {winner: bd[a], line: L};
  }
  if(bd.every(c=>c!==null)) return {winner: null, line: null};
  return null;
}

/* Announce win */
function announceWin(info){
  const winner = info.winner;
  // disable further clicks
  running = false;
  cells.forEach(c=>c.classList.add('disabled'));
  showWinningLine(info.line);
  if(aiEnabled){
    if(winner === playerSym){ statusText.textContent = 'Voc√™ venceu! üéâ'; scores.player++; launchConfetti(); }
    else { statusText.textContent = 'M√°quina venceu.'; scores.ai++; }
  } else {
    // PvP: determine player 1/2 by symbol: X = jogador1, O = jogador2
    if(winner === 'X'){ statusText.textContent = 'Jogador X venceu! üéâ'; scores.p1++; }
    else { statusText.textContent = 'Jogador O venceu! üéâ'; scores.p2++; }
  }
  subStatus.textContent = `Vencedor: ${winner}`;
  updateScoreLabel();
}

/* Announce tie */
function announceTie(){
  running = false;
  statusText.textContent = 'Empate!';
  subStatus.textContent = 'Ningu√©m venceu.';
  scores.ties = (scores.ties || 0) + 1;
  updateScoreLabel();
}

/* Update UI labels */
function updateStatus(){
  turnLabel.textContent = running ? `Vez: ${currentTurn}` : 'Jogo parado';
  statusText.textContent = running ? (aiEnabled ? `Sua vez (${playerSym})` : `Vez do jogador ${currentTurn}`) : statusText.textContent;
  subStatus.textContent = running ? (aiEnabled ? `Dificuldade: ${capitalize(difficulty)}` : 'Modo local') : subStatus.textContent;
  updateScoreLabel();
}
function updateScoreLabel(){
  if(aiEnabled) scoreLabel.textContent = `Voc√™ ${scores.player || 0} ‚Ä¢ M√°quina ${scores.ai || 0} ‚Ä¢ Empates ${scores.ties || 0}`;
  else scoreLabel.textContent = `X ${scores.p1 || 0} ‚Ä¢ O ${scores.p2 || 0} ‚Ä¢ Empates ${scores.ties || 0}`;
}
function capitalize(s){ return s.charAt(0).toUpperCase() + s.slice(1); }

/* show line */
function showWinningLine(line){
  if(!line) return;
  const first = cells[line[0]].getBoundingClientRect();
  const last = cells[line[2]].getBoundingClientRect();
  const parent = boardEl.getBoundingClientRect();
  const x1 = first.left + first.width/2 - parent.left;
  const y1 = first.top + first.height/2 - parent.top;
  const x2 = last.left + last.width/2 - parent.left;
  const y2 = last.top + last.height/2 - parent.top;
  const lx = Math.hypot(x2-x1, y2-y1);
  const angle = Math.atan2(y2-y1, x2-x1) * 180/Math.PI;
  lineEl.style.width = Math.max(lx, 40) + 'px';
  lineEl.style.left = ( (x1 + x2)/2 - lx/2 ) + 'px';
  lineEl.style.top = ( (y1 + y2)/2 - 3 ) + 'px';
  lineEl.style.transform = `rotate(${angle}deg)`;
  lineEl.style.opacity = 1;
}

/* confetti */
function launchConfetti(){
  const colors = ['#f97316','#fb7185','#60a5fa','#34d399','#facc15','#a78bfa'];
  const num = 80;
  for(let i=0;i<num;i++){
    const el = document.createElement('div');
    el.className = 'confetti-piece';
    const w = 7 + Math.random()*12;
    const h = 10 + Math.random()*18;
    el.style.width = w+'px';
    el.style.height = h+'px';
    el.style.left = (20 + Math.random()*60) + 'vw';
    el.style.top = ( -5 - Math.random()*10) + 'vh';
    el.style.background = colors[Math.floor(Math.random()*colors.length)];
    el.style.transform = `rotate(${Math.random()*360}deg)`;
    el.style.animationDuration = (2 + Math.random()*2.2) + 's';
    document.body.appendChild(el);
    setTimeout(()=>el.remove(), 4200 + Math.random()*1000);
  }
}

/* quick hint support (click middle text to show a hint) */
hintNote.addEventListener('click', ()=>{
  if(!running) return;
  let move = null;
  if(!aiEnabled) return;
  if(difficulty === 'easy') move = getRandomMove();
  else if(difficulty === 'medium') move = getMediumMove();
  else move = getBestMoveMinimax(board.slice(), aiSym).idx;
  if(move!=null){
    const cel = cells[move];
    const prev = cel.style.boxShadow;
    cel.style.boxShadow = '0 26px 60px rgba(124,58,237,0.18)';
    setTimeout(()=>cel.style.boxShadow = prev || '0 8px 24px rgba(2,6,23,0.38)',900);
  }
});

/* keyboard start */
document.addEventListener('keydown', (e)=>{
  if(e.key === 'Enter' && menuScreen.style.display !== 'none') startBtn.click();
});

/* pause audio when leaving tab */
document.addEventListener('visibilitychange', ()=>{
  if(document.hidden) try{ bgAudio.pause(); } catch(e){}
});

/* init */
updateStatus();

/* End of script */
</script>
</body>
</html>
